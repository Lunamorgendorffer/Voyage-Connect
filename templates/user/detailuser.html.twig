{% extends 'user.html.twig' %}

{% block title %}DetailUser{% endblock %}

{% block body %}
<div>
    <div class="grix xs4 container">
        {% for message in app.flashes('message') %}
            <div class="col-xs4">
                <div class="p-3 my-2 rounded-1 green light-4 text-green text-dark-4">{{message}}</div>
            </div>
        {% endfor %}
        <div class="col-xs4">
            <h1>Profil of {{app.user.pseudo}}</h1>

        </div>
        
        <div class="col-xs1">Pseudo</div>
        <div class="col-xs3">{{app.user.pseudo}}</div>
        <div class="col-xs1">Email</div>
        <div class="col-xs3">{{app.user.email}}</div>
        
        <div class="col-xs4">
            <a href="{{path('edit_user')}}" class="btn blue">Edit Profile</a>
            <a href="{{path('edit_password', {'id': app.user.id})}}" class="btn blue">Edit MDP</a>
        </div>

        <div class="col-xs4">
            <h1>Post of {{app.user.pseudo}} ({{app.user.posts|length}})</h1>
        </div>
        {% for post in app.user.posts %}
            <div class="col-xs1">title</div>
            <div class="col-xs3">{{post.title}}</div>
        {% endfor %}
        
        <div class="col-xs4">
            <h1>Comment of {{app.user.pseudo}} ({{app.user.posts|length}})</h1>
        </div>
        {% for comment in app.user.comments %}
            <div class="col-xs1">comments</div>
            <div class="col-xs3">{{comment.text}}</div>
        {% endfor %}

        <div class="col-xs4">
            <a href="{{path('delete_user',{'id':app.user.id})}}" class="btn error">Delete Profile</a>
        </div>

    </div>
{% endblock %}